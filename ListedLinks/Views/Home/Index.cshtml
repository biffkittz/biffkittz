@model List<ListedLinks.Models.ListedLink>

@{
    ViewBag.Title = "Listed Links Of Learning";
}

@* Messing around with some CSS *@
@* <div style="border-bottom: 3px solid #4588ba; margin-bottom:10px;">
	<div id="rootworm">
		<div class="flex-container">
			<div class="loading">
				<div class="x"></div>
				<div class="x"></div>
				<div class="x"></div>
				<div class="x"></div>
				<div class="x"></div>
				<div class="x"></div>
				<div class="x"></div>
				<div class="x"></div>
			</div>
		</div>
	</div>
	<h1>Ahem, we present the listed links of learning:</h1>
</div> *@

<h1>And now, a presentation of the listed links of learning:</h1>

@foreach (var listedLink in Model)
{
    <p>
        <a href="@listedLink.Url" target="_blank">@listedLink.Title</a>
        [@listedLink.Author] @*@listedLink.CreatedAt.ToUniversalTime().ToString("u")*@
    </p>
}

<hr />

<style>
	.flex-container {
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		height: 100px;
	}

	.loading {
		display: flex;
		align-items: center;
		transform: perspective(1000px) rotateX(60deg);
		transform-style: preserve-3d;
		height: 60px;
	}

	@@keyframes loading {
		0%,100% {
			height: 10px;
			transform: translateZ(-20px);
		}

		50% {
			height: 40px;
			transform: translateZ(20px);
		}
	}

	.loading .x {
		background-color: #4588ba;
		animation: loading .8s infinite;
		width: 10px;
		height: 0;
		margin: 0 1px;
		border-radius: 10px;
	}

	.loading .x:nth-child(2) {
		animation-delay: .1s;
	}

	.loading .x:nth-child(3) {
		animation-delay: .2s;
	}

	.loading .x:nth-child(4) {
		animation-delay: .3s;
	}

	.loading .x:nth-child(5) {
		animation-delay: .4s;
	}

	.loading .x:nth-child(6) {
		animation-delay: .5s;
	}

	.loading .x:nth-child(7) {
		animation-delay: .6s;
	}

	.loading .x:nth-child(8) {
		animation-delay: .7s;
	}
</style>

<input type="text" id="comment" style="width: 800px" placeholder="Feedback" />
<button type="button" class="btn btn-primary" style="background-color: #4588ba" onclick="saveComment()">Submit</button>
<script>
    function saveComment() {
        var comment = { 
            "Text": $("#comment").val(),
            "CreatedAt": new Date().toISOString(),
        }

        $.ajax({
            type: "POST",
			url: "https://biffkittz.com", //"https://biffkittz.com", "http://127.0.0.1:8080",
            data: JSON.stringify(comment),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function () {
                alert('Success!');
            },
            failure: function (response) {
                alert('error!');
            }
        });
    }
</script>
